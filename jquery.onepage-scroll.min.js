/*!
 * Modified by Brook Yang <uedsky@gmail.com>
 */
!function(a){var b={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:a.noop,afterMove:a.noop,loop:!1,responsiveFallback:!1};a.fn.swipeEvents=function(){return this.each(function(){function b(a){var b=a.originalEvent.touches;b&&b.length&&(d=b[0].pageX,e=b[0].pageY,f.bind("touchmove",c))}function c(a){var b=a.originalEvent.touches;if(b&&b.length){var g=d-b[0].pageX,h=e-b[0].pageY;g>=50&&f.trigger("swipeLeft"),-50>=g&&f.trigger("swipeRight"),h>=50&&f.trigger("swipeUp"),-50>=h&&f.trigger("swipeDown"),(Math.abs(g)>=50||Math.abs(h)>=50)&&f.unbind("touchmove",c)}}var d,e,f=a(this);f.bind("touchstart",b)})},a.fn.onepage_scroll=function(c){function d(){a(window).width()<f.responsiveFallback?(a("body").addClass("disabled-onepage-scroll"),a(document).unbind("mousewheel DOMMouseScroll"),g.swipeEvents().unbind("swipeDown swipeUp")):(a("body").hasClass("disabled-onepage-scroll")&&(a("body").removeClass("disabled-onepage-scroll"),a("html, body, .wrapper").animate({scrollTop:0},"fast")),g.swipeEvents().bind("swipeDown",function(b){a("body").hasClass("disabled-onepage-scroll")||b.preventDefault(),g.moveUp()}).bind("swipeUp",function(b){a("body").hasClass("disabled-onepage-scroll")||b.preventDefault(),g.moveDown()}),a(document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;e(a,b)}))}function e(a,b){deltaOfInterest=b;var c=(new Date).getTime();return c-k<l+f.animationTime?(a.preventDefault(),void 0):(0>deltaOfInterest?g.moveDown():g.moveUp(),k=c,void 0)}var f=a.extend({},b,c),g=a(this),h=a(f.sectionContainer),i=h.length,j=0,k=0,l=500,m="";if(a.support.transition=void 0!=document.body.style.transition||void 0!=document.body.style.webkitTransition,a.fn.transformPage=function(b,c,d){return a.support.transition?(a(this).css({transform:"translate3d(0, "+c+"%, 0)",transition:"all "+b.animationTime+"ms "+b.easing,"-webkit-transform":"translate3d(0, "+c+"%, 0)","-webkit-transition":"all "+b.animationTime+"ms "+b.easing}),a(this).one("transitionend webkitTransitionEnd",function(){b.afterMove(d)}),void 0):(a(this).animate({top:c+"%"},function(){b.afterMove(d)}),void 0)},a.fn.moveDown=function(){var b=a(this);if(index=a(f.sectionContainer+".active").data("index"),current=a(f.sectionContainer+"[data-index='"+index+"']"),next=a(f.sectionContainer+"[data-index='"+(index+1)+"']"),next.length<1){if(1!=f.loop)return;pos=0,next=a(f.sectionContainer+"[data-index='1']")}else pos=100*index*-1;if(f.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),1==f.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==f.updateURL){var c=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,c)}b.transformPage(f,pos,index)},a.fn.moveUp=function(){var b=a(this);if(index=a(f.sectionContainer+".active").data("index"),current=a(f.sectionContainer+"[data-index='"+index+"']"),next=a(f.sectionContainer+"[data-index='"+(index-1)+"']"),next.length<1){if(1!=f.loop)return;pos=100*(i-1)*-1,next=a(f.sectionContainer+"[data-index='"+i+"']")}else pos=100*(next.data("index")-1)*-1;if(f.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),1==f.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==f.updateURL){var c=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,c)}b.transformPage(f,pos,index)},a.fn.moveTo=function(b){return current=a(f.sectionContainer+".active"),next=a(f.sectionContainer+"[data-index='"+b+"']"),next.length>0&&(f.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),a(".onepage-pagination li a.active").removeClass("active"),a(".onepage-pagination li a[data-index='"+b+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),pos=100*(b-1)*-1,g.transformPage(f,pos,b),0==f.updateURL)?!1:void 0},g.addClass("onepage-wrapper").css("position","relative"),a.each(h,function(b){a(this).css({position:"absolute",top:j+"%"}).addClass("section").attr("data-index",b+1),j+=100,1==f.pagination&&(m+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),g.swipeEvents().bind("swipeDown",function(b){a("body").hasClass("disabled-onepage-scroll")||b.preventDefault(),g.moveUp()}).bind("swipeUp",function(b){a("body").hasClass("disabled-onepage-scroll")||b.preventDefault(),g.moveDown()}),1==f.pagination&&(a("<ul class='onepage-pagination'>"+m+"</ul>").prependTo("body"),posTop=g.find(".onepage-pagination").height()/2*-1,g.find(".onepage-pagination").css("margin-top",posTop)),""!=window.location.hash&&"#1"!=window.location.hash){if(init_index=window.location.hash.replace("#",""),a(f.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),a("body").addClass("viewing-page-"+init_index),1==f.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),next=a(f.sectionContainer+"[data-index='"+init_index+"']"),next&&(next.addClass("active"),1==f.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==f.updateURL)){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,n)}pos=100*(init_index-1)*-1,g.transformPage(f,pos,init_index)}else a(f.sectionContainer+"[data-index='1']").addClass("active"),a("body").addClass("viewing-page-1"),1==f.pagination&&a(".onepage-pagination li a[data-index='1']").addClass("active");return 1==f.pagination&&a(".onepage-pagination li a").click(function(){var b=a(this).data("index");return a(this).hasClass("active")||(current=a(f.sectionContainer+".active"),next=a(f.sectionContainer+"[data-index='"+b+"']"),next&&(current.removeClass("active"),next.addClass("active"),a(".onepage-pagination li a.active").removeClass("active"),a(".onepage-pagination li a[data-index='"+b+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index"))),pos=100*(b-1)*-1,g.transformPage(f,pos,b)),0==f.updateURL?!1:void 0}),a(document).bind("mousewheel DOMMouseScroll",function(b){b.preventDefault();var c=b.originalEvent.wheelDelta||-b.originalEvent.detail;a("body").hasClass("disabled-onepage-scroll")||e(b,c)}),0!=f.responsiveFallback&&(a(window).resize(function(){d()}),d()),1==f.keyboard&&a(document).keydown(function(b){var c=b.target.nodeName;if("INPUT"!=c&&"TEXTAREA"!=c&&!a("body").hasClass("disabled-onepage-scroll")){switch(b.which){case 33:case 38:g.moveUp();break;case 34:case 40:g.moveDown();break;case 36:g.moveTo(1);break;case 35:g.moveTo(h.length);break;default:return}b.preventDefault()}}),!1}}(window.jQuery);
//# sourceMappingURL=jquery.onepage-scroll.min.js.map