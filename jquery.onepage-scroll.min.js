!function(a){var b={sectionContainer:"section",easing:"ease",animationTime:1000,pagination:true,updateURL:false,keyboard:true,beforeMove:a.noop,afterMove:a.noop,loop:false,responsiveFallback:false};a.fn.swipeEvents=function(){return this.each(function(){var e,c,f=a(this);f.bind("touchstart",g);function g(h){var i=h.originalEvent.touches;if(i&&i.length){e=i[0].pageX;c=i[0].pageY;f.bind("touchmove",d)}}function d(j){var k=j.originalEvent.touches;if(k&&k.length){var i=e-k[0].pageX;var h=c-k[0].pageY;if(i>=50){f.trigger("swipeLeft")}if(i<=-50){f.trigger("swipeRight")}if(h>=50){f.trigger("swipeUp")}if(h<=-50){f.trigger("swipeDown")}if(Math.abs(i)>=50||Math.abs(h)>=50){f.unbind("touchmove",d)}}}})};a.fn.onepage_scroll=function(o){var f=a.extend({},b,o),d=a(this),n=a(f.sectionContainer),m=n.length,g="off",i=0,l=0,k=500,e="";a.support.transition=document.body.style.transition!=undefined||document.body.style.webkitTransition!=undefined;a.fn.transformPage=function(q,r,p){if(!a.support.transition){a(this).animate({top:r+"%"},function(){q.afterMove(p)});return}a(this).css({transform:"translate3d(0, "+r+"%, 0)",transition:"all "+q.animationTime+"ms "+q.easing,"-webkit-transform":"translate3d(0, "+r+"%, 0)","-webkit-transition":"all "+q.animationTime+"ms "+q.easing});a(this).one("transitionend webkitTransitionEnd",function(s){q.afterMove(p)})};a.fn.moveDown=function(){var q=a(this);index=a(f.sectionContainer+".active").data("index");current=a(f.sectionContainer+"[data-index='"+index+"']");next=a(f.sectionContainer+"[data-index='"+(index+1)+"']");if(next.length<1){if(f.loop==true){pos=0;next=a(f.sectionContainer+"[data-index='1']")}else{return}}else{pos=(index*100)*-1}f.beforeMove(current.data("index"));current.removeClass("active");next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var p=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,p)}q.transformPage(f,pos,index)};a.fn.moveUp=function(){var q=a(this);index=a(f.sectionContainer+".active").data("index");current=a(f.sectionContainer+"[data-index='"+index+"']");next=a(f.sectionContainer+"[data-index='"+(index-1)+"']");if(next.length<1){if(f.loop==true){pos=((m-1)*100)*-1;next=a(f.sectionContainer+"[data-index='"+m+"']")}else{return}}else{pos=((next.data("index")-1)*100)*-1}f.beforeMove(current.data("index"));current.removeClass("active");next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var p=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,p)}q.transformPage(f,pos,index)};a.fn.moveTo=function(p){current=a(f.sectionContainer+".active");next=a(f.sectionContainer+"[data-index='"+(p)+"']");if(next.length>0){f.beforeMove(current.data("index"));current.removeClass("active");next.addClass("active");a(".onepage-pagination li a.active").removeClass("active");a(".onepage-pagination li a[data-index='"+(p)+"']").addClass("active");a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));pos=((p-1)*100)*-1;d.transformPage(f,pos,p);if(f.updateURL==false){return false}}};function h(){if(a(window).width()<f.responsiveFallback){a("body").addClass("disabled-onepage-scroll");a(document).unbind("mousewheel DOMMouseScroll");d.swipeEvents().unbind("swipeDown swipeUp")}else{if(a("body").hasClass("disabled-onepage-scroll")){a("body").removeClass("disabled-onepage-scroll");a("html, body, .wrapper").animate({scrollTop:0},"fast")}d.swipeEvents().bind("swipeDown",function(p){if(!a("body").hasClass("disabled-onepage-scroll")){p.preventDefault()}d.moveUp()}).bind("swipeUp",function(p){if(!a("body").hasClass("disabled-onepage-scroll")){p.preventDefault()}d.moveDown()});a(document).bind("mousewheel DOMMouseScroll",function(p){p.preventDefault();var q=p.originalEvent.wheelDelta||-p.originalEvent.detail;j(p,q)})}}function j(q,r){deltaOfInterest=r;var p=new Date().getTime();if(p-l<k+f.animationTime){q.preventDefault();return}if(deltaOfInterest<0){d.moveDown()}else{d.moveUp()}l=p}d.addClass("onepage-wrapper").css("position","relative");a.each(n,function(p){a(this).css({position:"absolute",top:i+"%"}).addClass("section").attr("data-index",p+1);i=i+100;if(f.pagination==true){e+="<li><a data-index='"+(p+1)+"' href='#"+(p+1)+"'></a></li>"}});d.swipeEvents().bind("swipeDown",function(p){if(!a("body").hasClass("disabled-onepage-scroll")){p.preventDefault()}d.moveUp()}).bind("swipeUp",function(p){if(!a("body").hasClass("disabled-onepage-scroll")){p.preventDefault()}d.moveDown()});if(f.pagination==true){a("<ul class='onepage-pagination'>"+e+"</ul>").prependTo("body");posTop=(d.find(".onepage-pagination").height()/2)*-1;d.find(".onepage-pagination").css("margin-top",posTop)}if(window.location.hash!=""&&window.location.hash!="#1"){init_index=window.location.hash.replace("#","");a(f.sectionContainer+"[data-index='"+init_index+"']").addClass("active");a("body").addClass("viewing-page-"+init_index);if(f.pagination==true){a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active")}next=a(f.sectionContainer+"[data-index='"+(init_index)+"']");if(next){next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+(init_index)+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var c=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(init_index);history.pushState({},document.title,c)}}pos=((init_index-1)*100)*-1;d.transformPage(f,pos,init_index)}else{a(f.sectionContainer+"[data-index='1']").addClass("active");a("body").addClass("viewing-page-1");if(f.pagination==true){a(".onepage-pagination li a[data-index='1']").addClass("active")}}if(f.pagination==true){a(".onepage-pagination li a").click(function(){var p=a(this).data("index");if(!a(this).hasClass("active")){current=a(f.sectionContainer+".active");next=a(f.sectionContainer+"[data-index='"+(p)+"']");if(next){current.removeClass("active");next.addClass("active");a(".onepage-pagination li a.active").removeClass("active");a(".onepage-pagination li a[data-index='"+(p)+"']").addClass("active");a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"))}pos=((p-1)*100)*-1;d.transformPage(f,pos,p)}if(f.updateURL==false){return false}})}a(document).bind("mousewheel DOMMouseScroll",function(p){p.preventDefault();var q=p.originalEvent.wheelDelta||-p.originalEvent.detail;if(!a("body").hasClass("disabled-onepage-scroll")){j(p,q)}});if(f.responsiveFallback!=false){a(window).resize(function(){h()});h()}if(f.keyboard==true){a(document).keydown(function(q){var p=q.target.nodeName;if(p=="INPUT"||p=="TEXTAREA"||a("body").hasClass("disabled-onepage-scroll")){return}switch(q.which){case 33:case 38:d.moveUp();break;case 34:case 40:d.moveDown();break;case 36:d.moveTo(1);break;case 35:d.moveTo(n.length);break;default:return}q.preventDefault()})}return false}}(window.jQuery);